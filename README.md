# 🎯 3D座標掃描系統

## 📱 手機優化版本

這是一個專為手機操作優化的QR碼掃描系統，具備真實3D座標記錄功能。

### ✨ 主要功能

#### 🍎 蘋果原生AR支援
- **WebXR AR**: 使用蘋果原生WebXR API
- **ARKit**: 支援ARKit框架
- **設備感測器**: 降級到設備運動感測器
- **真實3D座標**: 記錄QR碼在現實世界中的精確位置

#### 📱 手機優化界面
- **響應式設計**: 完美適配各種手機螢幕
- **大按鈕**: 易於點擊操作
- **直覺操作**: 簡潔的界面設計
- **快速掃描**: 優化的QR碼識別速度

#### 🚀 快速掃描
- **多QR碼支援**: 同時識別多個QR碼
- **智能對焦**: 自動調整相機對焦
- **高精度識別**: 支援遠距離掃描
- **實時標記**: AR標記已掃描的QR碼

### 🛠️ 技術特色

#### 3D座標系統
```javascript
// 真實3D座標記錄
const coord3D = await getReal3DCoordinates(qrCode, position, size);
// 支援多種來源：
// - 🍎 ARKit (最高精度)
// - 🌐 WebXR (標準精度)  
// - 📱 DeviceMotion (基礎精度)
// - 🎲 Simulated (降級方案)
```

#### 蘋果原生API整合
- **WebXR**: 沉浸式AR體驗
- **ARKit**: 世界追蹤和平面檢測
- **DeviceMotion**: 設備方向感測
- **Camera API**: 優化相機設定

### 📋 使用說明

1. **開啟系統**: 在Safari中開啟 `index.html`
2. **開始掃描**: 點擊「📱 開始掃描」按鈕
3. **掃描QR碼**: 將QR碼對準相機
4. **查看3D座標**: 系統會自動記錄真實3D座標
5. **填寫資料**: 完成表單並送出

### 🎨 界面特色

#### 手機優化設計
- **大按鈕**: 50px最小高度，易於點擊
- **響應式布局**: 適配各種螢幕尺寸
- **直覺操作**: 簡潔的視覺設計
- **快速響應**: 優化的觸控體驗

#### 3D座標顯示
- **來源標識**: 顯示座標來源（ARKit/WebXR/DeviceMotion）
- **置信度**: 顯示座標精度百分比
- **實時更新**: 動態顯示掃描結果

#### 🎯 AR標誌系統
- **智能標誌**: 根據3D座標來源顯示不同顏色的AR標誌
- **視覺區分**: 
  - 🍎 **ARKit**: 金色標誌（最高精度）
  - 🌐 **WebXR**: 綠色標誌（標準精度）
  - 📱 **DeviceMotion**: 橙色標誌（基礎精度）
  - 🎲 **Simulated**: 灰色標誌（模擬座標）
- **動態效果**: 不同來源的標誌有不同的脈衝動畫
- **置信度顯示**: 低置信度時標誌會變透明

### 🔧 技術規格

#### 支援的AR技術
- ✅ WebXR AR (iOS 15+)
- ✅ ARKit (iOS 11+)
- ✅ DeviceMotion (iOS 13+)
- ✅ 降級模擬座標

#### 掃描優化
- **掃描頻率**: 60 FPS
- **識別精度**: 高精度QR碼檢測
- **多QR支援**: 同時識別多個QR碼
- **智能對焦**: 自動對焦優化

### 📱 手機相容性

#### 最佳體驗
- **iPhone**: Safari 15+ (推薦)
- **iPad**: Safari 15+ (推薦)
- **Android**: Chrome 90+ (基礎支援)

#### 功能支援
- **AR功能**: iPhone 12+ (ARKit)
- **WebXR**: iOS 15+ (Safari)
- **設備感測器**: iOS 13+ (DeviceMotion)

### 🚀 快速開始

1. 在iPhone Safari中開啟 `index.html`
2. 允許相機和運動感測器權限
3. 點擊「📱 開始掃描」
4. 享受真實3D座標掃描體驗！

---

**注意**: 為獲得最佳體驗，建議在iPhone Safari中使用，並確保iOS版本為15或更高。
